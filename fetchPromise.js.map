{"version":3,"sources":["src/fetchPromise.jsx"],"names":["promiseOsapiRequest","promiseRestRequest","promiseHttpGet","osapiRequestFunc","Promise","resolve","reject","request","jive","corev3","execute","response","error","href","core","get","v","content","args","http","result","fetchPromise"],"mappings":";;;;;QAMgBA,mB,GAAAA,mB;QAeAC,kB,GAAAA,kB;QAeAC,c,GAAAA,c;;AAhChB;;;;;;AAEO,SAASF,mBAAT,CAA6BG,gBAA7B,EAA8C;AACjD,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;;AAEpC,YAAMC,UAAU,OAAOJ,gBAAP,IAA2B,UAA3B,GAAwCA,iBAAiB,gBAAMK,IAAN,CAAWC,MAA5B,CAAxC,GAA8EN,gBAA9F;;AAEAI,gBAAQG,OAAR,CAAgB,oBAAY;AACxB,gBAAIC,SAASC,KAAb,EAAoB;AAChBN,uBAAO,EAACM,OAAOD,SAASC,KAAjB,EAAP;AACH,aAFD,MAEO;AACHP,wBAAQM,QAAR;AACH;AACJ,SAND;AAOH,KAXM,CAAP;AAYH,C,CAnBD;;;;AAqBO,SAASV,kBAAT,CAA4BY,IAA5B,EAAiC;AACpC,WAAO,IAAIT,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,wBAAME,IAAN,CAAWM,IAAX,CAAgBC,GAAhB,CAAoB;AAChBC,eAAE,IADc;AAEhBH;AAFgB,SAApB,EAGGH,OAHH,CAGW,oBAAY;AACnB,gBAAI,CAACC,SAASC,KAAd,EAAqB;AACjBP,wBAAQM,SAASM,OAAT,GAAmBN,SAASM,OAA5B,GAAsCN,QAA9C;AACH,aAFD,MAEO;AACHL,uBAAOK,QAAP;AACH;AACJ,SATD;AAUH,KAXM,CAAP;AAYH;;AAEM,SAAST,cAAT,GAAgC;AAAA,sCAALgB,IAAK;AAALA,YAAK;AAAA;;AACnC,WAAO,IAAId,OAAJ,CAAa,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAAA;;AAErC,uCAAMa,IAAN,EAAWJ,GAAX,oBAAkBG,IAAlB,EAAwBR,OAAxB,CAAgC,kBAAU;AACtC,gBAAIU,OAAOR,KAAX,EAAkBN,OAAOc,OAAOR,KAAd,EAAlB,KACK;AACDP,wBAAQe,MAAR;AACH;AACJ,SALD;AAMH,KARM,CAAP;AASH;;AAED,IAAMC,eAAe,EAACnB,8BAAD,EAAiBF,wCAAjB,EAAsCC,sCAAtC,EAArB;;kBAEeoB,Y","file":"fetchPromise.js","sourcesContent":["/**\r\n * Created by M. Yegorov on 2016-12-27.\r\n */\r\n\r\nimport osapi from 'jive/osapi';\r\n\r\nexport function promiseOsapiRequest(osapiRequestFunc){\r\n    return new Promise((resolve, reject) => {\r\n\r\n        const request = typeof osapiRequestFunc == 'function' ? osapiRequestFunc(osapi.jive.corev3) : osapiRequestFunc;\r\n\r\n        request.execute(response => {\r\n            if (response.error) {\r\n                reject({error: response.error})\r\n            } else {\r\n                resolve(response)\r\n            }\r\n        })\r\n    });\r\n}\r\n\r\nexport function promiseRestRequest(href){\r\n    return new Promise((resolve, reject) => {\r\n        osapi.jive.core.get({\r\n            v:'v3',\r\n            href\r\n        }).execute(response => {\r\n            if (!response.error) {\r\n                resolve(response.content ? response.content : response)\r\n            } else {\r\n                reject(response)\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nexport function promiseHttpGet(...args){\r\n    return new Promise ((resolve, reject) => {\r\n\r\n        osapi.http.get(...args).execute(result => {\r\n            if (result.error) reject(result.error);\r\n            else {\r\n                resolve(result);\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\nconst fetchPromise = {promiseHttpGet, promiseOsapiRequest, promiseRestRequest}\r\n\r\nexport default fetchPromise"]}